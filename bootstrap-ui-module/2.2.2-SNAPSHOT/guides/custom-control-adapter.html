<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Creating a custom Control Adapter - Across</title>
    <meta name="generator" content="Antora 2.0.0">
    <link rel="stylesheet" href="../../../_/css/site.css">
<link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700,800" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<meta name="og:title" content="Across Documentation"/>
<meta name="og:image" content="https://across.foreach.be/across/resources/static/acrossWebsite/img/og-image-across.jpg"/>
<link rel="icon" type="image/png" sizes="16x16" href="https://across.foreach.be/across/resources/static/acrossWebsite/img/favicon/favicon-16x16.png"/>
<link rel="icon" type="image/png" sizes="32x32" href="https://across.foreach.be/across/resources/static/acrossWebsite/img/favicon/favicon-32x32.png"/>
<link rel="icon" type="image/png" sizes="96x96" href="https://across.foreach.be/across/resources/static/acrossWebsite/img/favicon/favicon-96x96.png"/>
<link rel="apple-touch-icon" type="image/png" href="https://across.foreach.be/across/resources/static/acrossWebsite/img/favicon/apple-icon-120x120.png"/>
<link rel="apple-touch-icon" type="image/png" sizes="152x152" href="https://across.foreach.be/across/resources/static/acrossWebsite/img/favicon/apple-icon-152x152.png"/>
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="https://across.foreach.be/across/resources/static/acrossWebsite/img/favicon/apple-icon-180x180.png"/>
  </head>
  <body class="article">
<header class="header" role="banner">
  <div class="m-mobile-menu__button js-overlay-menu-button" data-target="mobile-menu">
    <span class="m-mobile-menu__line"></span>
    <span class="m-mobile-menu__line"></span>
    <span class="m-mobile-menu__line"></span>
  </div>

  <div class="m-mobile-menu">
    <div class="m-mobile-menu__logo">
      <a class="m-nav__logo" href="/">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 82.9 95.7">
          <title>logo-across</title>
          <path fill="#3CA873" d="M0 23.9l15.9-9.2 41.5 23.9-16 9.2"></path>
          <path fill="#0093D8" d="M25.5 9.2L41.4 0l41.5 23.9-16 9.2"></path>
          <path fill="#53DD99" d="M41.4 95.7l16-9.3V38.6l-16 9.2"></path>
          <path fill="#22CEFA" d="M66.9 80.9l16-9.2V23.9l-16 9.2"></path>
          <path fill="#257A50" d="M12.5 64.5L28.9 55l-16.4-9.4"></path>
          <path fill="#4DBC86" d="M12.5 64.5L28.9 74V55"></path>
        </svg>
        <span>Across</span>
      </a>
    </div>
  </div>
  <div class="m-mobile-menu__container js-mobile-menu-overlay" id="mobile-menu">
    <nav class="m-mobile-menu__list">
      <a href="https://across.foreach.be/blog">Blog</a>
      <a href="https://across.foreach.be/documentation" class="is-active">Docs</a>
      <a href="https://across.foreach.be/modules">Modules</a>
      <a href="https://across.foreach.be/faq">FAQ</a>
      <a href="http://start-across.foreach.be">Get started</a>
    </nav>
  </div>
  <nav class="m-nav is-sticky">
    <a class="m-nav__logo" href="../../..">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 82.9 95.7">
        <title>logo-across</title>
        <path fill="#3CA873" d="M0 23.9l15.9-9.2 41.5 23.9-16 9.2"></path>
        <path fill="#0093D8" d="M25.5 9.2L41.4 0l41.5 23.9-16 9.2"></path>
        <path fill="#53DD99" d="M41.4 95.7l16-9.3V38.6l-16 9.2"></path>
        <path fill="#22CEFA" d="M66.9 80.9l16-9.2V23.9l-16 9.2"></path>
        <path fill="#257A50" d="M12.5 64.5L28.9 55l-16.4-9.4"></path>
        <path fill="#4DBC86" d="M12.5 64.5L28.9 74V55"></path>
      </svg>
      <span>Across</span>
    </a>

    <div class="m-nav__link-group">
      <a href="https://across.foreach.be/blog">Blog</a>
      <a href="https://across.foreach.be/documentation" class="is-active">Docs</a>
      <a href="https://across.foreach.be/modules">Modules</a>
      <a href="https://across.foreach.be/faq">FAQ</a>
      <a href="http://start-across.foreach.be">Get started</a>
    </div>
  </nav>
</header>
<div class="main-wrapper">
<div class="navigation-container" data-component="bootstrap-ui-module" data-version="2.2.2-SNAPSHOT">
  <aside class="navigation">
    <div class="panels">
      <div id="search-box" class="search-box is-active">
        <input id="search-input" type="text" placeholder="Search the documentation">
      </div>
      <div class="navigation-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Module: Bootstrap UI</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../quick-start.html">Quick start</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../releases/index.html">Releases</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../releases/2.x.html">2.x</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../releases/1.x.html">1.x</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../components/index.html">Components</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../components/alerts.html">Alerts</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../components/buttons.html">Buttons</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../components/breadcrumbs.html">Breadcrumbs</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../components/forms.html">Forms</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../components/form-controls/index.html">Form controls</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../components/form-controls/auto-suggest.html">AutoSuggest</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../components/form-controls/checkbox.html">Checkbox</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../components/form-controls/datetime.html">Date/Time picker</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../components/form-controls/fieldset.html">Fieldset</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../components/form-controls/file-upload.html">File upload</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../components/form-controls/form-group.html">Form group</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../components/form-controls/hidden.html">Hidden field</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../components/form-controls/input-group.html">Input group</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../components/form-controls/label.html">Label</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../components/form-controls/numeric.html">Numeric</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../components/form-controls/options.html">Options builder</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../components/form-controls/radio.html">Radio button</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../components/form-controls/select.html">Select</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../components/form-controls/textbox.html">Textbox</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../components/form-controls/static-control.html">Static control</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../components/grid-system.html">Grid system</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../components/favicon.html">Favicon</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../components/glyphIcon.html">GlyphIcon</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../components/links.html">Links</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../components/navs.html">Navs</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../components/panels-nav.html">Panels nav</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../components/script.html">Script elements</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../components/tables.html">Tables</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../components/tooltips.html">Tooltips</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../control-adapters/index.html">Control adapters</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../control-adapters/basic-adapter.html">Basic adapter</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../control-adapters/datetime-adapter.html">Datetime adapter</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../control-adapters/select-adapter.html">Select adapter</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../control-adapters/checkbox-radio-adapter.html">Checkbox/Radio adapter</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../control-adapters/numeric-adapter.html">Numeric adapter</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../control-adapters/autosuggest-adapter.html">Autosuggest adapter</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../control-adapters/container-adapter.html">Container adapter</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../utilities/index.html">Utilities</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../extending/index.html">Extending BootstrapUiModule</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../extending/creating-your-own-component.html">Creating your own component</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../extending/custom-component-rendering.html">Custom component rendering</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../web-resources/index.html">Web resources</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../web-resources/index.html#bootstrapui-javascript">Javascript plugins</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../message-codes.html">Message codes</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="index.html">Guides &amp; How-tos</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="customizing-a-datetimepicker.html">Customizing a Date picker</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="prefixing-control-names.html">Prefixing control names</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="custom-control-adapter.html">Creating a custom control adapter</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
      <div class="navigation-explore" data-panel="explore">
  <div class="context">
    <span class="title">Module: Bootstrap UI</span>
    <span class="version">2.2.2-SNAPSHOT</span>
  </div>
  <ul class="components">
    <li class="component">
      <span class="title">Across Platform</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../across/index.html">master</a>
        </li>
        <li class="version">
          <a href="../../../across/2.1.5-SNAPSHOT/index.html">2.1.5-SNAPSHOT</a>
        </li>
        <li class="version">
          <a href="../../../across/2.1.3/index.html">2.1.3</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Application Guides</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../guides/index.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Auto-configuration Support</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../across-autoconfigure/index.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Migration guides</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../migration/index.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Module: Admin Web</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../admin-web-module/index.html">master</a>
        </li>
        <li class="version">
          <a href="../../../admin-web-module/3.2.0-SNAPSHOT/index.html">3.2.0-SNAPSHOT</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Module: Application Info</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../application-info-module/index.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Module: Batch Processing</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../spring-batch-module/index.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <span class="title">Module: Bootstrap UI</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../index.html">master</a>
        </li>
        <li class="version is-current">
          <a href="../index.html">2.2.2-SNAPSHOT</a>
        </li>
        <li class="version">
          <a href="../../2.1.1/index.html">2.1.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Module: Caching - Ehcache</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../ehcache-module/index.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Module: Debug Web</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../debug-web-module/index.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Module: Documents & Forms</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../dynamic-forms-module/index.html">master</a>
        </li>
        <li class="version">
          <a href="../../../dynamic-forms-module/0.0.2/index.html">0.0.2</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Module: Entity Management</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../entity-module/index.html">master</a>
        </li>
        <li class="version">
          <a href="../../../entity-module/4.0.0-SNAPSHOT/index.html">4.0.0-SNAPSHOT</a>
        </li>
        <li class="version">
          <a href="../../../entity-module/3.4.0-SNAPSHOT/index.html">3.4.0-SNAPSHOT</a>
        </li>
        <li class="version">
          <a href="../../../entity-module/3.2.0/index.html">3.2.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Module: File Management</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../file-manager-module/index.html">master</a>
        </li>
        <li class="version">
          <a href="../../../file-manager-module/1.3.0/index.html">1.3.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Module: Hibernate JPA</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../hibernate-jpa-module/index.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Module: LDAP Support</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../ldap-module/index.html">master</a>
        </li>
        <li class="version">
          <a href="../../../ldap-module/2.0.0-SNAPSHOT/index.html">2.0.0-SNAPSHOT</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Module: Logging</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../logging-module/index.html">master</a>
        </li>
        <li class="version">
          <a href="../../../logging-module/2.0.0-SNAPSHOT/index.html">2.0.0-SNAPSHOT</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Module: Mobile Support</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../spring-mobile-module/index.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Module: Properties</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../properties-module/index.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Module: Security</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../spring-security-module/index.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Module: Security - ACLs</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../spring-security-acl-module/index.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Module: Security - OAuth2</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../oauth2-module/index.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Module: User Management</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../user-module/index.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Module: Web CMS</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../web-cms-module/index.html">master</a>
        </li>
        <li class="version">
          <a href="../../../web-cms-module/0.0.6/index.html">0.0.6</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
    <script>
      var indexName = window.location.href.indexOf('across-site/production/')>0 ? 'antora-across-site-production' : 'antora-across-site-preview';
      docsearch({
                  appId: 'YNK2RERBV5',
                  apiKey: '201d66bbf44a6c62002472e491d74568',
                  indexName: indexName,
                  inputSelector: '#search-input',
                  algoliaOptions: { hitsPerPage: 10 }
                })
    </script>
  </aside>
</div>
  <main class="main">
<div class="toolbar" role="navigation">
  <button class="navigation-toggle"></button>
  <a href="../../../across/index.html" class="home-link"></a>
<nav class="crumbs" aria-label="breadcrumbs">
  <ul>
    <li class="crumb"><a href="../index.html">Module: Bootstrap UI</a></li>
    <li class="crumb"><a href="index.html">Guides &amp; How-tos</a></li>
    <li class="crumb"><a href="custom-control-adapter.html">Creating a custom control adapter</a></li>
  </ul>
</nav>
<div class="page-versions">
  <button class="versions-menu-toggle" title="Show other versions of page">2.2.2-SNAPSHOT</button>
  <div class="versions-menu">
    <a class="version is-missing" href="../../index.html">master</a>
    <a class="version is-current" href="custom-control-adapter.html">2.2.2-SNAPSHOT</a>
    <a class="version is-missing" href="../../2.1.1/index.html">2.1.1</a>
  </div>
</div>
  <div class="edit-this-page"><a href="https://github.com/ForeachOS/ax-docs-bootstrap-ui-module/edit/develop/docs/modules/guides/pages/custom-control-adapter.adoc">Edit this Page</a></div>
</div>
<article class="doc"><a name="section-top"></a>
      <h1>Creating a custom Control Adapter</h1>
    <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>In this guide you&#8217;ll learn:</p>
</div>
<div class="ulist checklist">
<ul class="checklist">
<li>
<p><i class="fa fa-check-square-o"></i> how to create a custom <a href="../control-adapters/index.html" class="page">control adapter</a></p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> registering the control adapter in the <a href="../control-adapters/index.html#control-adapter-factory" class="page">ControlAdapterFactory</a>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_creating_a_control_adapter"><a class="anchor" href="#_creating_a_control_adapter"></a>Creating a control adapter</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A control adapter must at the very least implement the <a href="../control-adapters/index.html#control-adapter" class="page">predefined contract</a>.
In the following sections, we&#8217;ll create a select control adapter, step by step.</p>
</div>
<div class="sect2">
<h3 id="_gettarget"><a class="anchor" href="#_gettarget"></a>getTarget</h3>
<div class="paragraph">
<p>The most basic part of the control adapter is the target.
The target of the control adapter is where the <code>bootstrapui.change</code> event is emitted.
For ease of configuration, the target is usually the html element that hands the easiest access to modifying the values of the control.
In the case of a select element, this is the select itself.</p>
</div>
<div class="listingblock">
<div class="title">Configuring getTarget()</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">class SelectControlAdapter
{
    constructor(node){
        this.target = node; <i class="conum" data-value="1"></i><b>(1)</b>
    }

    getTarget() {
        return this.target;
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>In this case, we assume that the <code>data-bootstrapui-adapter-type</code> is configured on the select element itself.</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_getvalue"><a class="anchor" href="#_getvalue"></a>getValue</h3>
<div class="paragraph">
<p>The primary feature of <code>ControlAdapters</code> is to easily access information of a control, such as which value it holds.
Because a value isn&#8217;t usually a single value, but a mix of:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the label: the displayed value</p>
</li>
<li>
<p>the value: the value that is submitted</p>
</li>
<li>
<p>the context: where the value originated from</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In the case of a select, the active values are defined by the <code>option</code> elements which are checked.</p>
</div>
<div class="listingblock">
<div class="title">Configuring getValue()</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">getValue() {
    const selected = [];
    const selectedOptions = $( this.getTarget() ).find( 'option:checked' );
    selectedOptions.each( function () {
        const element = $( this );
        selected.push( {label: element.html(), value: element.val(), context: this} );
    } );
    return selected;
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_selectvalue"><a class="anchor" href="#_selectvalue"></a>selectValue</h3>
<div class="paragraph">
<p>Values for controls can easily be modified by using <code>selectValue</code>.
The format on how values should be passed, depends on the control adapter.</p>
</div>
<div class="listingblock">
<div class="title">Configuring selectValue()</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">selectValue(newValue) {
    $( this.getTarget() ).val( newValue );
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this case, our control adapter will support both a single value and an array of values (in case of a multiselect).</p>
</div>
</div>
<div class="sect2">
<h3 id="_reset"><a class="anchor" href="#_reset"></a>reset</h3>
<div class="paragraph">
<p>Reset allows us to revert the control to its initial state.
To do so, we&#8217;ll simply hold the initial selection when the control adapter is created.</p>
</div>
<div class="listingblock">
<div class="title">Configuring reset</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">constructor(node){
    // ...
    this.initialValue = $( this.getTarget() ).val();
}

reset() {
    this.selectValue(this.initialValue);
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_triggerchange"><a class="anchor" href="#_triggerchange"></a>triggerChange</h3>
<div class="paragraph">
<p>Whenever the control is modified, we sent out an event so that others know the value has changed.
This way, they can opt in to make changes to fetch the new value.
How and when a control is seen as modified, depends on its context.</p>
</div>
<div class="listingblock">
<div class="title">Configuring triggerChange</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">constructor(node){
   // ...
    $( this.getTarget() ).on( 'change', event =&gt; this.triggerChange() ); <i class="conum" data-value="1"></i><b>(1)</b>
}

triggerChange() {
    $( this.getTarget() ).trigger( 'bootstrapui.change', [this] );  <i class="conum" data-value="2"></i><b>(2)</b>
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Whenever a change event triggered on the <code>select</code> html element, the value has changed, so we&#8217;ll emit a <code>bootstrapui.change</code> event as well.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>By default, whenever a change event is sent out, we&#8217;ll also provide the control adapter as an additional parameter.
This allows those who are listening to the event to easily access the control adapter responsible.</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_completed_example"><a class="anchor" href="#_completed_example"></a>Completed example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">export class SelectControlAdapter
{
    constructor( target ) {
        this.target = target;
        this.initialValue = $( this.getTarget() ).val();
        $( this.getTarget() ).on( 'change', event =&gt; this.triggerChange() );
    }

    getTarget() {
        return this.target;
    }

    getValue() {
        const selected = [];
        const selectedOptions = $( this.getTarget() ).find( 'option:checked' );
        selectedOptions.each( function () {
            const element = $( this );
            selected.push( {label: element.html(), value: element.val(), context: this} );
        } );
        return selected;
    }

    selectValue(newValue) {
        $( this.getTarget() ).val( newValue );
    }

    reset() {
        this.selectValue(this.initialValue);
    }

    triggerChange(): void {
        $( this.getTarget() ).trigger( 'bootstrapui.change', [this] );
    }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_adding_a_registrar_to_the_controladapterfactory"><a class="anchor" href="#_adding_a_registrar_to_the_controladapterfactory"></a>Adding a registrar to the ControlAdapterFactory</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To use the control adapter, it must be registered to the <code>ControlAdapterFactory</code>, so that it can be initialized on the element whenever the corresponding type is used.
Registration is done by creating a control adapter initializer and registering it under a specific key.</p>
</div>
<div class="listingblock">
<div class="title">Configuring the control adapter initializer</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">export function createSelectControlAdapter( node ) { <i class="conum" data-value="1"></i><b>(1)</b>
    return new SelectControlAdapter( node );
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The node that specifies the key as the value for its <code>data-bootstrapui-adapter-type</code> attribute will be passed to the adapter.</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Registering the initializer to the <code>ControlAdapterFactory</code></div>
<div class="content">
<pre>BootstrapUiModule.ControlAdapterFactory.register( 'select', createSelectControlAdapter );</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_registering_the_javascript_to_be_used"><a class="anchor" href="#_registering_the_javascript_to_be_used"></a>Registering the javascript to be used</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Before we can use our adapter, we&#8217;ll have to make sure that our added code is loaded at the right time.
Using <code>WebResources</code> we&#8217;ll register the javascript <strong>after</strong> the javascript that is loaded by <code>BootstrapUiModule</code>.
This ensures that the control adapter factory is available.
Once the page has fully loaded, an adapter will be created and added to the html elements specifying their key.</p>
</div>
<div class="listingblock">
<div class="title">Registering the javascript as a WebResource</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">webResourceRegistry.apply(
					WebResourceRule.add( WebResource.javascript( "@static:/js/select-control-adapter.js" ) )
					               .toBucket( WebResource.JAVASCRIPT_PAGE_END )
					               .after( BootstrapUiWebResources.NAME )
			);</code></pre>
</div>
</div>
</div>
</div>
    <div class="article-footer-nav">
        <a class="article-footer-nav-previous" href="prefixing-control-names.html">&laquo; Prefixing control names</a>
            <span class="article-footer-nav-current">Creating a custom control adapter</span>
    </div>
</article>
<aside class="article-aside hidden" role="navigation">
  <h3 class="toc-title">Contents</h3>
  <div id="article-toc"></div>
</aside>
  </main>
</div>
<footer class="footer">
  <p>The Across documentation site is generated using <a href="https://antora.org" target="_blank">Antora</a>.</p>
  <div class="footer-totop">
    <!--srcset="/acrossWebsite/img/foreach-logo@2x.png 2x"-->
    <a class="footer-partner" href="http://foreach.be/" target="_blank">
      sponsored by <svg width="20" height="20" viewBox="0 0 277 311" xmlns="http://www.w3.org/2000/svg">
        <g fill="none" fill-rule="evenodd">
          <path d="M27 307.3V133.5H.9V92.7H27v-8.8c0-24.1 4.3-46.5 19.7-64.1C58.2 6.6 74.7.1 92.9.1c13.4 0 23.7 2.2 31.2 4.8l-5.9 44.8c-3.9-1.8-9.5-2.6-15.8-2.6-17.4 0-23.7 16.7-23.7 35.5v10.1h33.6v40.8H78.7v173.8H27z" fill="#FFCE01" fill-rule="nonzero"></path>
          <path d="M229.2 181c0-27.6-6.3-49.1-21.7-49.1-17 0-23.7 27.7-24.1 49.1h45.8zM183 221.4c.8 33.4 18.2 45.6 41.1 45.6 14.6 0 27.6-3.5 36.7-7l7.1 41.2c-13.4 5.7-33.6 9.7-53.3 9.7-52.5 0-81.4-38.6-81.4-105.8 0-72 33.6-115 77.4-115 41.5 0 65.6 36.4 65.6 101.4 0 15.4-.4 23.7-1.6 29.8H183v.1z" fill="#FFF" fill-rule="nonzero"></path>
        </g>
      </svg>
    </a>
    <a href="#section-top">
      <svg width="34" height="34" viewBox="0 0 62 62" xmlns="http://www.w3.org/2000/svg">
        <title>icon</title>
        <g transform="rotate(-90 30.5 30.5)" fill="none" fill-rule="evenodd">
          <circle stroke="#ffffff" fill="#1D2A3A" transform="rotate(180 30.007 30.942)" cx="30.007" cy="30.942" r="30"></circle>
          <path fill="#ffffff" d="M25 38.884h3.713l6.3-7.797-6.3-8.087-3.713.064 6.155 7.972"></path>
        </g>
      </svg>
    </a>
  </div>
</footer>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.1.1/tocbot.min.js"></script>
<script src="../../../_/js/site.js"></script>
<script src="../../../_/js/vendor/highlight.js"></script>
<script>hljs.initHighlighting()</script>
<script>
  tocbot.init( {
                 tocSelector: '#article-toc',
                 contentSelector: 'article',
                 headingSelector: 'h2, h3, h4',
                 collapseDepth: 3,
                 positionFixedSelector: '#article-toc',
                 scrollSmooth: false
               } );
  var tocList = document.getElementById( 'article-toc' ).getElementsByClassName( 'toc-list' );
  if ( tocList && tocList.length > 0 && tocList[0].childNodes.length > 0 ) {
    document.getElementById( 'article-toc' ).parentNode.classList.remove( 'hidden' );
  }
</script>
  </body>
</html>
