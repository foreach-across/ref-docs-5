<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Creating a custom field validator - Across</title>
    <meta name="generator" content="Antora 2.0.0">
    <link rel="stylesheet" href="../../../_/css/site.css">
<link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700,800" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<meta name="og:title" content="Across Documentation"/>
<meta name="og:image" content="https://across.foreach.be/across/resources/static/acrossWebsite/img/og-image-across.jpg"/>
<link rel="icon" type="image/png" sizes="16x16" href="https://across.foreach.be/across/resources/static/acrossWebsite/img/favicon/favicon-16x16.png"/>
<link rel="icon" type="image/png" sizes="32x32" href="https://across.foreach.be/across/resources/static/acrossWebsite/img/favicon/favicon-32x32.png"/>
<link rel="icon" type="image/png" sizes="96x96" href="https://across.foreach.be/across/resources/static/acrossWebsite/img/favicon/favicon-96x96.png"/>
<link rel="apple-touch-icon" type="image/png" href="https://across.foreach.be/across/resources/static/acrossWebsite/img/favicon/apple-icon-120x120.png"/>
<link rel="apple-touch-icon" type="image/png" sizes="152x152" href="https://across.foreach.be/across/resources/static/acrossWebsite/img/favicon/apple-icon-152x152.png"/>
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="https://across.foreach.be/across/resources/static/acrossWebsite/img/favicon/apple-icon-180x180.png"/>
  </head>
  <body class="article">
<header class="header" role="banner">
  <div class="m-mobile-menu__button js-overlay-menu-button" data-target="mobile-menu">
    <span class="m-mobile-menu__line"></span>
    <span class="m-mobile-menu__line"></span>
    <span class="m-mobile-menu__line"></span>
  </div>

  <div class="m-mobile-menu">
    <div class="m-mobile-menu__logo">
      <a class="m-nav__logo" href="https://across.foreach.be">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 82.9 95.7">
          <title>logo-across</title>
          <path fill="#3CA873" d="M0 23.9l15.9-9.2 41.5 23.9-16 9.2"></path>
          <path fill="#0093D8" d="M25.5 9.2L41.4 0l41.5 23.9-16 9.2"></path>
          <path fill="#53DD99" d="M41.4 95.7l16-9.3V38.6l-16 9.2"></path>
          <path fill="#22CEFA" d="M66.9 80.9l16-9.2V23.9l-16 9.2"></path>
          <path fill="#257A50" d="M12.5 64.5L28.9 55l-16.4-9.4"></path>
          <path fill="#4DBC86" d="M12.5 64.5L28.9 74V55"></path>
        </svg>
        <span>Across</span>
      </a>
    </div>
  </div>
  <div class="m-mobile-menu__container js-mobile-menu-overlay" id="mobile-menu">
    <nav class="m-mobile-menu__list">
      <a href="https://across.foreach.be/blog">Blog</a>
      <a href="https://across.foreach.be/documentation" class="is-active">Docs</a>
      <a href="https://across.foreach.be/modules">Modules</a>
      <a href="https://across.foreach.be/faq">FAQ</a>
      <a href="http://start-across.foreach.be">Get started</a>
    </nav>
  </div>
  <nav class="m-nav is-sticky">
    <a class="m-nav__logo" href="https://across.foreach.be">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 82.9 95.7">
        <title>logo-across</title>
        <path fill="#3CA873" d="M0 23.9l15.9-9.2 41.5 23.9-16 9.2"></path>
        <path fill="#0093D8" d="M25.5 9.2L41.4 0l41.5 23.9-16 9.2"></path>
        <path fill="#53DD99" d="M41.4 95.7l16-9.3V38.6l-16 9.2"></path>
        <path fill="#22CEFA" d="M66.9 80.9l16-9.2V23.9l-16 9.2"></path>
        <path fill="#257A50" d="M12.5 64.5L28.9 55l-16.4-9.4"></path>
        <path fill="#4DBC86" d="M12.5 64.5L28.9 74V55"></path>
      </svg>
      <span>Across</span>
    </a>

    <div class="m-nav__link-group">
      <a href="https://across.foreach.be/blog">Blog</a>
      <a href="https://across.foreach.be/documentation" class="is-active">Docs</a>
      <a href="https://across.foreach.be/modules">Modules</a>
      <a href="https://across.foreach.be/faq">FAQ</a>
      <a href="http://start-across.foreach.be">Get started</a>
    </div>
  </nav>
</header>
<div class="main-wrapper">
<div class="navigation-container" data-component="dynamic-forms-module" data-version="0.0.3-dev">
  <aside class="navigation" role="navigation">
    <div class="panels">
      <div id="search-box" class="search-box is-active">
        <input id="search-input" type="text" placeholder="Search the documentation">
      </div>
      <div class="navigation-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Module: Documents &amp; Forms</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../quick-start.html">Quick start</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../releases/0.0.x.html">Releases</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../releases/0.0.x.html#0-0-2">0.0.3</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../releases/0.0.x.html#0-0-2">0.0.2</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../releases/0.0.x.html#0-0-1">0.0.1</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../document-definitions.html">Designing a document</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../definitions/creating-a-dataset.html">Creating a definition dataset</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../definitions/creating-a-document-definition.html">Creating a document definition</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../definitions/messages-and-labels.html">Messages and translations</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../definitions/defining-views.html">Defining document views</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../definitions/list-view.html">List view</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../definitions/list-summary-view.html">List summary view</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../definitions/definition-versions.html">Definition versions</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../field-types/index.html">Dynamic field types</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../field-types/string.html">Strings</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../field-types/number.html">Numbers &amp; Currency</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../field-types/boolean.html">Booleans</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../field-types/date.html">Dates and Times</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../field-types/fieldset.html">Fieldsets</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../field-types/file.html">Files</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../field-types/enumeration.html">Fixed value fields</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../field-types/linked-entity.html">Linked entities</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../field-types/linked-document.html">Linked documents</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../field-types/calculation.html">Calculated fields</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../field-types/calculation-context.html">Customizing the field evaluation context</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../definitions/creating-a-type-definition.html">Creating a custom type</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="index.html">Dynamic field validators</a>
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="creating-a-field-validator.html">Creating a custom field validator</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../working-with-documents/index.html">Working with documents</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../working-with-documents/using-documents-in-code.html">Using documents in code</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../working-with-documents/document-versions.html">Document versions</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <span class="nav-text">Security</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../security/customizing-allowable-actions.html">Customizing allowable actions</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../import-export/index.html">Import and export</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../import-export/importing-definitions.html">Importing definitions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../import-export/importing-documents.html">Importing documents</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../extending-definition-types.html">Extending definition types</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../services-and-components.html">Services and components</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../cheat-sheet.html">Cheat sheet</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../guides/index.html">Guides &amp; How-tos</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">General</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../guides/general/creating-a-simple-frontend-form.html">Creating a simple frontend form</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
      <div class="navigation-explore" data-panel="explore">
  <div class="context">
    <span class="title">Module: Documents &amp; Forms</span>
    <span class="version">0.0.3-dev</span>
  </div>
  <ul class="components">
    <li class="component">
      <span class="title">Across Platform</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../across/2.1.4-dev/index.html">2.1.4-dev</a>
        </li>
        <li class="version">
          <a href="../../../across/2.1.3/index.html">2.1.3</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Application Guides</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../guides/3.0.0-dev/index.html">3.0.0-dev</a>
        </li>
        <li class="version">
          <a href="../../../guides/2.1.2/index.html">2.1.2</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Auto-configuration Support</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../across-autoconfigure/1.0.2/index.html">1.0.2</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Migration guides</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../migration/3.0.0-dev/index.html">3.0.0-dev</a>
        </li>
        <li class="version">
          <a href="../../../migration/2.1.2/index.html">2.1.2</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Module: Admin Web</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../admin-web-module/3.1.0/index.html">3.1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Module: Application Info</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../application-info-module/1.0.1/index.html">1.0.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Module: Batch Processing</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../spring-batch-module/1.0.1/index.html">1.0.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Module: Bootstrap UI</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../bootstrap-ui-module/2.2.0/index.html">2.2.0</a>
        </li>
        <li class="version">
          <a href="../../../bootstrap-ui-module/2.1.1/index.html">2.1.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Module: Caching - Ehcache</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../ehcache-module/1.0.1/index.html">1.0.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Module: Debug Web</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../debug-web-module/2.0.0/index.html">2.0.0</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <span class="title">Module: Documents & Forms</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">0.0.3-dev</a>
        </li>
        <li class="version">
          <a href="../../0.0.2/index.html">0.0.2</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Module: Entity Management</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../entity-module/4.0.0-dev/index.html">4.0.0-dev</a>
        </li>
        <li class="version">
          <a href="../../../entity-module/3.3.0-dev/index.html">3.3.0-dev</a>
        </li>
        <li class="version">
          <a href="../../../entity-module/3.2.0/index.html">3.2.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Module: File Management</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../file-manager-module/1.3.1-dev/index.html">1.3.1-dev</a>
        </li>
        <li class="version">
          <a href="../../../file-manager-module/1.3.0/index.html">1.3.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Module: Hibernate JPA</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../hibernate-jpa-module/3.0.0/index.html">3.0.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Module: LDAP Support</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../ldap-module/2.0.0-dev/index.html">2.0.0-dev</a>
        </li>
        <li class="version">
          <a href="../../../ldap-module/1.0.1/index.html">1.0.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Module: Logging</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../logging-module/2.0.0-dev/index.html">2.0.0-dev</a>
        </li>
        <li class="version">
          <a href="../../../logging-module/1.1.0/index.html">1.1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Module: Mobile Support</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../spring-mobile-module/2.0.0/index.html">2.0.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Module: Properties</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../properties-module/1.1.1/index.html">1.1.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Module: Security</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../spring-security-module/3.0.2/index.html">3.0.2</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Module: Security - ACLs</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../spring-security-acl-module/3.0.1/index.html">3.0.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Module: Security - OAuth2</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../oauth2-module/2.1.0/index.html">2.1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Module: User Management</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../user-module/3.1.0/index.html">3.1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Module: Web CMS</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../web-cms-module/0.0.7-dev/index.html">0.0.7-dev</a>
        </li>
        <li class="version">
          <a href="../../../web-cms-module/0.0.6/index.html">0.0.6</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
    <script>
      var indexName = window.location.href.indexOf('across-site/production/')>0 ? 'antora-across-site-production' : 'antora-across-site-preview';
      docsearch({
                  appId: 'YNK2RERBV5',
                  apiKey: '201d66bbf44a6c62002472e491d74568',
                  indexName: indexName,
                  inputSelector: '#search-input',
                  algoliaOptions: { hitsPerPage: 10 }
                })
    </script>
  </aside>
</div>
  <main class="main" role="main">
<div class="toolbar" role="navigation">
  <button class="navigation-toggle"></button>
  <a href="../../../across/2.1.3/index.html" class="home-link"></a>
<nav class="crumbs" role="navigation" aria-label="breadcrumbs">
  <ul>
    <li class="crumb"><a href="../index.html">Module: Documents & Forms</a></li>
    <li class="crumb"><a href="index.html">Dynamic field validators</a></li>
    <li class="crumb is-current"><a href="creating-a-field-validator.html">Creating a custom field validator</a></li>
  </ul>
</nav>
<div class="page-versions">
  <button class="versions-menu-toggle" title="Show other versions of page">0.0.3-dev</button>
  <div class="versions-menu">
    <a class="version is-current" href="creating-a-field-validator.html">0.0.3-dev</a>
    <a class="version" href="../../0.0.2/validators/creating-a-field-validator.html">0.0.2</a>
  </div>
</div>
  <div class="edit-this-page"><a href="https://github.com/ForeachOS/ax-docs-dynamic-forms-module/edit/develop/docs/modules/ROOT/pages/validators/creating-a-field-validator.adoc">Edit this Page</a></div>
</div>
<article class="doc"><a name="section-top"></a>
<h1>Creating a custom field validator</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Creating a custom field validator involves two different steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>creating a <code>DynamicDocumentFieldValidator</code> which performs the actual validation for a field</p>
</li>
<li>
<p>creating a <code>DynamicDocumentFieldValidatorBuilder</code> which is responsible for building an instance of your validator with the supplied settings from a field definition</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_creating_the_validator"><a class="anchor" href="#_creating_the_validator"></a>1. Creating the validator</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>DynamicDocumentFieldValidator</code> performs the actual validation of the field value.</p>
</div>
<div class="listingblock">
<div class="title">Example dynamic field validator that rejects a specific value</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@RequiredArgsConstructor
public class ValueNotAllowedValidator implements DynamicDocumentFieldValidator
{
    @NonNull
    private final Object notAllowed;

    @Override
    public void validate( DynamicDocumentFieldValue field, Errors errors ) { <i class="conum" data-value="1"></i><b>(1)</b>
        if ( notAllowed.equals( field.getFieldValue() ) ) {
            errors.rejectValue( field.getFieldKey(), "ValueNotAllowed" );  <i class="conum" data-value="2"></i><b>(2)</b>
        }
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The <code>DynamicDocumentFieldValue</code> provides the full context of the field, including the full document, the path to the field, the field definition and the field value.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Always use the <code>fieldKey</code> property when rejecting values.
This ensures correct behaviour in different data binding scenarios.</td>
</tr>
</table>
</div>
<h3 id="_customizing_field_rendering" class="discrete">Customizing field rendering</h3>
<div class="paragraph">
<p>Sometimes the presence of a validator will influence how a field is visualized in the UI.
If you require this you can implement the <code>customizePropertyDescriptor</code> method in your validator</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">interface DynamicDocumentFieldValidator {
    /**
     * Allow this validator to apply some customization
     * to the {@link EntityPropertyDescriptorBuilder}
     * of a field that uses this validator.
     *
     * @param builder to customize
     */
    default void customizePropertyDescriptor( EntityPropertyDescriptorBuilder builder ) {
    }
    ...
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_providing_the_validator_builder"><a class="anchor" href="#_providing_the_validator_builder"></a>2. Providing the validator builder</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A <code>DynamicDocumentFieldValidator</code> is usually parameterized for a specific field.
It is a <code>DynamicDocumentFieldValidatorBuilder</code> that takes the field definition settings and turns it into an instance of your validator.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Component <i class="conum" data-value="1"></i><b>(1)</b>
public class ValueNotAllowedValidatorBuilder implements DynamicDocumentFieldValidatorBuilder
{
	@Override
	public boolean accepts( RawDocumentDefinition.AbstractField field,   <i class="conum" data-value="2"></i><b>(2)</b>
                                DynamicTypeDefinition typeDefinition,
                                Map&lt;String, Object&gt; validatorSettings ) {
		return validatorSettings.containsKey( "not-allowed" );
	}

	@Override
	public DynamicDocumentFieldValidator buildValidator( RawDocumentDefinition.AbstractField field, <i class="conum" data-value="3"></i><b>(3)</b>
	                                                     DynamicTypeDefinition typeDefinition,
	                                                     Map&lt;String, Object&gt; validatorSettings ) {
		return new ValueNotAllowedValidator( validatorSettings.get( "not-allowed" ) );
	}
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Create your <code>DynamicDocumentFieldValidatorBuilder</code> as a <code>@Bean</code> or <code>@Component</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The <code>accepts()</code> method is called to determine if this builder should be used to create a <code>DynamicDocumentFieldValidator</code> for those <code>validatorSettings</code>.
The first builder that returns <code>true</code> will be used to create the validator.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The <code>buildValidator()</code> method is where an instance of your validator is created with the settings specified.</td>
</tr>
</table>
</div>
<h3 id="_validator_settings" class="discrete">Validator settings</h3>
<div class="paragraph">
<p>The validator settings is a <code>Map</code> of values specified with a validator entry in a field definition.</p>
</div>
<div class="listingblock">
<div class="title">Example field definition with validators</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">document-definition:
  content:
    - id: name
      type: string
      validators:
       - required <i class="conum" data-value="1"></i><b>(1)</b>
       - not-allowed: "John Doe" <i class="conum" data-value="2"></i><b>(2)</b>
       - type: custom <i class="conum" data-value="3"></i><b>(3)</b>
         allowed:
          - 1
          - 2
         not-allowed:
          - 3
          - 4
         extra-settings:
          something: false
          else: true</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>A single value would be converted to a <code>Map</code> with the value as key and <code>true</code> as value.
In this example <code>required</code> would result in <code>Collections.singletonMap( "required", true )</code> being passesd as validator settings.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Valid settings for our example <code>ValueNotAllowedValidator</code> (see above).</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>For complex configuration, an entire hierarchy of settings can be provided.
The only requirement is that the top-level keys are <code>String</code> values.
In this example the value of <code>allowed</code> and <code>not-allowed</code> will be a <code>List</code>, whereas the value of <code>extra-settings</code> will be a <code>Map</code>.</td>
</tr>
</table>
</div>
<h2 id="_replacing_existing_validators" class="discrete">Replacing existing validators</h2>
<div class="paragraph">
<p><code>DynamicDocumentFieldValidatorBuilder</code> components are ordered.
The first builder where <code>accepts()</code> returns <code>true</code> will be used to create the validator instance.
If you want to replace an existing validator implementation, you should provide an order to your own builder, so it comes before the original one.</p>
</div>
<div class="listingblock">
<div class="title">Example providing a global order to a validator builder</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Order(1)
@Component
public class ValueNotAllowedValidatorBuilder implements DynamicDocumentFieldValidatorBuilder</code></pre>
</div>
</div>
<div class="paragraph">
<p>The default validator builders are automatically ordered with <code>Ordered.LOWEST_PRECEDENCE</code>, ensuring that a custom builder can replace them without having to explicitly provide an order.</p>
</div>
</div>
</div>
</article>
<aside class="article-aside hidden" role="navigation">
  <h3 class="toc-title">Contents</h3>
  <div id="article-toc"></div>
</aside>
  </main>
</div>
<footer class="footer">
  <p>The Across documentation site is generated using <a href="https://antora.org" target="_blank">Antora</a>.</p>
  <div class="footer-totop">
    <!--srcset="/acrossWebsite/img/foreach-logo@2x.png 2x"-->
    <a class="footer-partner" href="http://foreach.be/" target="_blank">
      sponsored by <svg width="20" height="20" viewBox="0 0 277 311" xmlns="http://www.w3.org/2000/svg">
        <g fill="none" fill-rule="evenodd">
          <path d="M27 307.3V133.5H.9V92.7H27v-8.8c0-24.1 4.3-46.5 19.7-64.1C58.2 6.6 74.7.1 92.9.1c13.4 0 23.7 2.2 31.2 4.8l-5.9 44.8c-3.9-1.8-9.5-2.6-15.8-2.6-17.4 0-23.7 16.7-23.7 35.5v10.1h33.6v40.8H78.7v173.8H27z" fill="#FFCE01" fill-rule="nonzero"></path>
          <path d="M229.2 181c0-27.6-6.3-49.1-21.7-49.1-17 0-23.7 27.7-24.1 49.1h45.8zM183 221.4c.8 33.4 18.2 45.6 41.1 45.6 14.6 0 27.6-3.5 36.7-7l7.1 41.2c-13.4 5.7-33.6 9.7-53.3 9.7-52.5 0-81.4-38.6-81.4-105.8 0-72 33.6-115 77.4-115 41.5 0 65.6 36.4 65.6 101.4 0 15.4-.4 23.7-1.6 29.8H183v.1z" fill="#FFF" fill-rule="nonzero"></path>
        </g>
      </svg>
    </a>
    <a href="#section-top">
      <svg width="34" height="34" viewBox="0 0 62 62" xmlns="http://www.w3.org/2000/svg">
        <title>icon</title>
        <g transform="rotate(-90 30.5 30.5)" fill="none" fill-rule="evenodd">
          <circle stroke="#ffffff" fill="#1D2A3A" transform="rotate(180 30.007 30.942)" cx="30.007" cy="30.942" r="30"></circle>
          <path fill="#ffffff" d="M25 38.884h3.713l6.3-7.797-6.3-8.087-3.713.064 6.155 7.972"></path>
        </g>
      </svg>
    </a>
  </div>
</footer>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.1.1/tocbot.min.js"></script>
<script src="../../../_/js/site.js"></script>
<script src="../../../_/js/vendor/highlight.js"></script>
<script>hljs.initHighlighting()</script>
<script>
  tocbot.init( {
                 tocSelector: '#article-toc',
                 contentSelector: 'article',
                 headingSelector: 'h2, h3, h4',
                 collapseDepth: 3,
                 positionFixedSelector: '#article-toc',
                 scrollSmooth: false
               } );
  var tocList = document.getElementById( 'article-toc' ).getElementsByClassName( 'toc-list' );
  if ( tocList && tocList.length > 0 && tocList[0].childNodes.length > 0 ) {
    document.getElementById( 'article-toc' ).parentNode.classList.remove( 'hidden' );
  }
</script>
  </body>
</html>
