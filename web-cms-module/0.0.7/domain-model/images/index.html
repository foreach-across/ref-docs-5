<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image model - Across</title>
    <meta name="generator" content="Antora 2.1.1">
    <link rel="stylesheet" href="../../../../_/css/site.css">
<link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700,800" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<meta name="og:title" content="Across Documentation"/>
<meta name="og:image" content="https://across.foreach.be/across/resources/static/acrossWebsite/img/og-image-across.jpg"/>
<link rel="icon" type="image/png" sizes="16x16" href="https://across.foreach.be/across/resources/static/acrossWebsite/img/favicon/favicon-16x16.png"/>
<link rel="icon" type="image/png" sizes="32x32" href="https://across.foreach.be/across/resources/static/acrossWebsite/img/favicon/favicon-32x32.png"/>
<link rel="icon" type="image/png" sizes="96x96" href="https://across.foreach.be/across/resources/static/acrossWebsite/img/favicon/favicon-96x96.png"/>
<link rel="apple-touch-icon" type="image/png" href="https://across.foreach.be/across/resources/static/acrossWebsite/img/favicon/apple-icon-120x120.png"/>
<link rel="apple-touch-icon" type="image/png" sizes="152x152" href="https://across.foreach.be/across/resources/static/acrossWebsite/img/favicon/apple-icon-152x152.png"/>
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="https://across.foreach.be/across/resources/static/acrossWebsite/img/favicon/apple-icon-180x180.png"/>
  </head>
  <body class="article">
<header class="header" role="banner">
  <div class="m-mobile-menu__button js-overlay-menu-button" data-target="mobile-menu">
    <span class="m-mobile-menu__line"></span>
    <span class="m-mobile-menu__line"></span>
    <span class="m-mobile-menu__line"></span>
  </div>

  <div class="m-mobile-menu">
    <div class="m-mobile-menu__logo">
      <a class="m-nav__logo" href="/">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 82.9 95.7">
          <title>logo-across</title>
          <path fill="#3CA873" d="M0 23.9l15.9-9.2 41.5 23.9-16 9.2"></path>
          <path fill="#0093D8" d="M25.5 9.2L41.4 0l41.5 23.9-16 9.2"></path>
          <path fill="#53DD99" d="M41.4 95.7l16-9.3V38.6l-16 9.2"></path>
          <path fill="#22CEFA" d="M66.9 80.9l16-9.2V23.9l-16 9.2"></path>
          <path fill="#257A50" d="M12.5 64.5L28.9 55l-16.4-9.4"></path>
          <path fill="#4DBC86" d="M12.5 64.5L28.9 74V55"></path>
        </svg>
        <span>Across</span>
      </a>
    </div>
  </div>
  <div class="m-mobile-menu__container js-mobile-menu-overlay" id="mobile-menu">
    <nav class="m-mobile-menu__list">
      <a href="https://across.foreach.be/blog">Blog</a>
      <a href="https://across.foreach.be/documentation" class="is-active">Docs</a>
      <a href="https://across.foreach.be/modules">Modules</a>
      <a href="https://across.foreach.be/faq">FAQ</a>
      <a href="http://start-across.foreach.be">Get started</a>
    </nav>
  </div>
  <nav class="m-nav is-sticky">
    <a class="m-nav__logo" href="../../../..">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 82.9 95.7">
        <title>logo-across</title>
        <path fill="#3CA873" d="M0 23.9l15.9-9.2 41.5 23.9-16 9.2"></path>
        <path fill="#0093D8" d="M25.5 9.2L41.4 0l41.5 23.9-16 9.2"></path>
        <path fill="#53DD99" d="M41.4 95.7l16-9.3V38.6l-16 9.2"></path>
        <path fill="#22CEFA" d="M66.9 80.9l16-9.2V23.9l-16 9.2"></path>
        <path fill="#257A50" d="M12.5 64.5L28.9 55l-16.4-9.4"></path>
        <path fill="#4DBC86" d="M12.5 64.5L28.9 74V55"></path>
      </svg>
      <span>Across</span>
    </a>

    <div class="m-nav__link-group">
      <a href="https://across.foreach.be/blog">Blog</a>
      <a href="https://across.foreach.be/documentation" class="is-active">Docs</a>
      <a href="https://across.foreach.be/modules">Modules</a>
      <a href="https://across.foreach.be/faq">FAQ</a>
      <a href="http://start-across.foreach.be">Get started</a>
    </div>
  </nav>
</header>
<div class="main-wrapper">
<div class="navigation-container" data-component="web-cms-module" data-version="0.0.7">
  <aside class="navigation">
    <div class="panels">
      <div id="search-box" class="search-box is-active">
        <input id="search-input" type="text" placeholder="Search the documentation">
      </div>
      <div class="navigation-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../../index.html">Module: Web CMS</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../quick-start.html">Quick start</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../../releases/index.html">Releases</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../releases/0.0.x.html">0.0.x</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../configuration-properties.html">Configuration properties</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../assets/index.html">Web CMS Asset model</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../assets/endpoint-url.html">Endpoints &amp; URLs</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../pages/index.html">Web Pages</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../publication/index.html">Publications &amp; Articles</a>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="index.html">Images</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../redirects/index.html">Redirects</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../menus/index.html">Menus</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../../components/index.html">Web Components</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../../components/component-types.html">Component types</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../components/creating-a-component-type.html">Creating a custom component</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../components/content-markers.html">Content markers</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../components/thymeleaf.html">Thymeleaf integration</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../../importing/index.html">Importing data</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../importing/yaml-structure.html">YAML structure</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../../multi-domain/index.html">Multi-domain support</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../multi-domain/setup.html">Application configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../multi-domain/using-domains.html">Using domains</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../multi-domain/importing.html">Importing domain data</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../../services-and-components/index.html">Services and components</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../services-and-components/entitymodule-attributes.html">EntityModule attributes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../services-and-components/message-codes.html">Message codes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../services-and-components/thymeleaf-dialect.html">Thymeleaf dialect</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../services-and-components/web-resources.html">Web resources</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../services-and-components/default-data.html">Default data</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../performance-tuning/index.html">Performance tuning</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../../guides/index.html">Guides &amp; How-tos</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../guides/creating-a-custom-asset.html">Creating a custom asset type</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
      <div class="navigation-explore" data-panel="explore">
  <div class="context">
    <span class="title">Module: Web CMS</span>
    <span class="version">0.0.7</span>
  </div>
  <ul class="components">
    <li class="component">
      <span class="title">Across Platform</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../across/index.html">master</a>
        </li>
        <li class="version">
          <a href="../../../../across/2.1.5/index.html">2.1.5</a>
        </li>
        <li class="version">
          <a href="../../../../across/2.1.4/index.html">2.1.4</a>
        </li>
        <li class="version">
          <a href="../../../../across/2.1.3/index.html">2.1.3</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Application Guides</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../guides/5.1.0-SNAPSHOT/index.html">5.1.0-SNAPSHOT</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Auto-configuration Support</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../across-autoconfigure/index.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Migration guides</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../migration/index.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Module: Admin Web</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../admin-web-module/index.html">master</a>
        </li>
        <li class="version">
          <a href="../../../../admin-web-module/3.2.0/index.html">3.2.0</a>
        </li>
        <li class="version">
          <a href="../../../../admin-web-module/3.1.1/index.html">3.1.1</a>
        </li>
        <li class="version">
          <a href="../../../../admin-web-module/3.1.0/index.html">3.1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Module: Application Info</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../application-info-module/index.html">master</a>
        </li>
        <li class="version">
          <a href="../../../../application-info-module/1.0.1/index.html">1.0.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Module: Batch Processing</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../spring-batch-module/index.html">master</a>
        </li>
        <li class="version">
          <a href="../../../../spring-batch-module/1.0.2/index.html">1.0.2</a>
        </li>
        <li class="version">
          <a href="../../../../spring-batch-module/1.0.1/index.html">1.0.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Module: Bootstrap UI</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../bootstrap-ui-module/index.html">master</a>
        </li>
        <li class="version">
          <a href="../../../../bootstrap-ui-module/2.2.2/index.html">2.2.2</a>
        </li>
        <li class="version">
          <a href="../../../../bootstrap-ui-module/2.2.1/index.html">2.2.1</a>
        </li>
        <li class="version">
          <a href="../../../../bootstrap-ui-module/2.1.1/index.html">2.1.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Module: Caching - Ehcache</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../ehcache-module/index.html">master</a>
        </li>
        <li class="version">
          <a href="../../../../ehcache-module/1.0.1/index.html">1.0.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Module: Debug Web</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../debug-web-module/index.html">master</a>
        </li>
        <li class="version">
          <a href="../../../../debug-web-module/2.0.0/index.html">2.0.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Module: Documents & Forms</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../dynamic-forms-module/index.html">master</a>
        </li>
        <li class="version">
          <a href="../../../../dynamic-forms-module/0.0.3/index.html">0.0.3</a>
        </li>
        <li class="version">
          <a href="../../../../dynamic-forms-module/0.0.2/index.html">0.0.2</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Module: Entity Management</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../entity-module/index.html">master</a>
        </li>
        <li class="version">
          <a href="../../../../entity-module/3.4.0/index.html">3.4.0</a>
        </li>
        <li class="version">
          <a href="../../../../entity-module/3.3.0/index.html">3.3.0</a>
        </li>
        <li class="version">
          <a href="../../../../entity-module/3.2.0/index.html">3.2.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Module: File Management</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../file-manager-module/index.html">master</a>
        </li>
        <li class="version">
          <a href="../../../../file-manager-module/2.1.0-SNAPSHOT/index.html">2.1.0-SNAPSHOT</a>
        </li>
        <li class="version">
          <a href="../../../../file-manager-module/1.4.0/index.html">1.4.0</a>
        </li>
        <li class="version">
          <a href="../../../../file-manager-module/1.3.0/index.html">1.3.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Module: Hibernate JPA</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../hibernate-jpa-module/index.html">master</a>
        </li>
        <li class="version">
          <a href="../../../../hibernate-jpa-module/3.0.0/index.html">3.0.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Module: LDAP Support</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../ldap-module/index.html">master</a>
        </li>
        <li class="version">
          <a href="../../../../ldap-module/1.0.1/index.html">1.0.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Module: Logging</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../logging-module/index.html">master</a>
        </li>
        <li class="version">
          <a href="../../../../logging-module/1.1.0/index.html">1.1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Module: Mobile Support</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../spring-mobile-module/index.html">master</a>
        </li>
        <li class="version">
          <a href="../../../../spring-mobile-module/2.0.0/index.html">2.0.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Module: Properties</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../properties-module/index.html">master</a>
        </li>
        <li class="version">
          <a href="../../../../properties-module/1.1.1/index.html">1.1.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Module: Security</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../spring-security-module/index.html">master</a>
        </li>
        <li class="version">
          <a href="../../../../spring-security-module/4.1.0-SNAPSHOT/index.html">4.1.0-SNAPSHOT</a>
        </li>
        <li class="version">
          <a href="../../../../spring-security-module/3.0.2/index.html">3.0.2</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Module: Security - ACLs</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../spring-security-acl-module/4.1.0-SNAPSHOT/index.html">4.1.0-SNAPSHOT</a>
        </li>
        <li class="version">
          <a href="../../../../spring-security-acl-module/3.0.2/index.html">3.0.2</a>
        </li>
        <li class="version">
          <a href="../../../../spring-security-acl-module/3.0.1/index.html">3.0.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Module: Security - OAuth2</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../oauth2-module/index.html">master</a>
        </li>
        <li class="version">
          <a href="../../../../oauth2-module/2.1.1/index.html">2.1.1</a>
        </li>
        <li class="version">
          <a href="../../../../oauth2-module/2.1.0/index.html">2.1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Module: User Management</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../user-module/index.html">master</a>
        </li>
        <li class="version">
          <a href="../../../../user-module/4.1.0-SNAPSHOT/index.html">4.1.0-SNAPSHOT</a>
        </li>
        <li class="version">
          <a href="../../../../user-module/3.1.1/index.html">3.1.1</a>
        </li>
        <li class="version">
          <a href="../../../../user-module/3.1.0/index.html">3.1.0</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <span class="title">Module: Web CMS</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../index.html">master</a>
        </li>
        <li class="version is-current">
          <a href="../../index.html">0.0.7</a>
        </li>
        <li class="version">
          <a href="../../../0.0.6/index.html">0.0.6</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
    <script>
      var indexName = window.location.href.indexOf('across-site/production/')>0 ? 'antora-across-site-production' : 'antora-across-site-preview';
      docsearch({
                  appId: 'YNK2RERBV5',
                  apiKey: '201d66bbf44a6c62002472e491d74568',
                  indexName: indexName,
                  inputSelector: '#search-input',
                  algoliaOptions: { hitsPerPage: 10 }
                })
    </script>
  </aside>
</div>
  <main class="main">
<div class="toolbar" role="navigation">
  <button class="navigation-toggle"></button>
  <a href="../../../../across/index.html" class="home-link"></a>
<nav class="crumbs" aria-label="breadcrumbs">
  <ul>
    <li class="crumb"><a href="../../index.html">Module: Web CMS</a></li>
    <li class="crumb"><a href="index.html">Images</a></li>
  </ul>
</nav>
<div class="page-versions">
  <button class="versions-menu-toggle" title="Show other versions of page">0.0.7</button>
  <div class="versions-menu">
    <a class="version" href="../../../domain-model/images/index.html">master</a>
    <a class="version is-current" href="index.html">0.0.7</a>
    <a class="version" href="../../../0.0.6/domain-model/images/index.html">0.0.6</a>
  </div>
</div>
  <div class="edit-this-page"><a href="https://github.com/ForeachOS/ax-docs-web-cms-module/blob/0.0.7/docs/modules/ROOT/pages/domain-model/images/index.adoc">Edit this Page</a></div>
</div>
<article class="doc"><a name="section-top"></a>
      <h1>Image model</h1>
    <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>WebCmsModule provides an asset representing an image file.
The main entity is the <code>WebCmsImage</code> and you can use the <code>WebCmsImageRepository</code> to query the image entities.</p>
</div>
<div class="paragraph">
<p>WebCmsModule does not actually store the physical image data.
It routes all interactions with the physical files through a <code>WebCmsImageConnector</code> that is responsible for the connection with an image repository.
 The image repository is also expected to serve as CDN for rendering images in a browser.</p>
</div>
<div class="paragraph">
<p>The administration UI allows you to upload and select images in components.  Different utility functions are available to generate urls to the images for use in templates.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_connecting_to_an_image_repository"><a class="anchor" href="#_connecting_to_an_image_repository"></a>Connecting to an image repository</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Out of the box, WebCmsModule has support for connecting to either <a href="http://cloudinary.com/">Cloudinary</a> or a <a href="https://repository.foreach.be/projects/image-server/4.0.0.RELEASE/reference/">Foreach ImageServer</a> image repository.</p>
</div>
<div class="sect2">
<h3 id="_cloudinary_connector"><a class="anchor" href="#_cloudinary_connector"></a>Cloudinary connector</h3>
<div class="paragraph">
<p>To connect to Cloudinary for your images you should add the Cloudinary dependency to your application and add the properties with the correct credentials.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>WebCmsModule will only store the image assets in your Cloudinary account and will generate optimized urls for rendering an image.
Previously existing assets will not be read from your Cloudinary account.</p>
</div>
</blockquote>
</div>
<div class="sect3">
<h4 id="_pom_xml"><a class="anchor" href="#_pom_xml"></a>pom.xml</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
    &lt;groupId&gt;com.cloudinary&lt;/groupId&gt;
    &lt;artifactId&gt;cloudinary-http44&lt;/artifactId&gt;
    &lt;version&gt;1.14.0&lt;/version&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_application_yml"><a class="anchor" href="#_application_yml"></a>application.yml</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">webCmsModule:
  images:
    cloudinary:
      enabled: true
      cloudName: yourCloudName
      apiKey: 123456789
      apiSecret: secret
      # Optionally specify additional settings
      settings:
        secure: true</code></pre>
</div>
</div>
<div class="paragraph">
<p>When setting <strong>webCmsModule.images.cloudinary.enabled</strong> to <code>true</code>, WebCmsModule will create its own <code>Cloudinary</code> instance with the specified values.
If your application creates a <code>Cloudinary</code> bean manually however, there is no need to specify the properties as WebCmsModule will automatically detect it and create the corresponding <code>WebCmsImageConnector</code>.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>When you delete a <code>WebCmsImage</code>, the corresponding image asset in your Cloudinary account will be deleted as well.
If you do not want this, you can manually create a <code>CloudinaryWebCmsImageConnector</code> with different settings.</p>
</div>
</blockquote>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_imageserver_connector"><a class="anchor" href="#_imageserver_connector"></a>ImageServer connector</h3>
<div class="paragraph">
<p>To connect to a remote ImageServer for your images you should add the ImageServer Client dependency to your application and add the properties with the correct credentials.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>WebCmsModule will only store the image assets in your ImageServer account and will generate optimized urls for rendering an image.
Previously existing assets will not be read from ImageServer.</p>
</div>
</blockquote>
</div>
<div class="listingblock">
<div class="title">pom.xml</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
    &lt;groupId&gt;com.foreach.imageserver&lt;/groupId&gt;
    &lt;artifactId&gt;imageserver-client&lt;/artifactId&gt;
    &lt;version&gt;4.0.0.RELEASE&lt;/version&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">application.yml</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">webCmsModule:
  images:
    imageServer:
      enabled: true
      url: "http://remote.imageserver.domain/resources/images"
      hashToken: optionalHashToken
      accessToken: secureApiAccessToken</code></pre>
</div>
</div>
<div class="paragraph">
<p>When not using a <strong>hashToken</strong>, retrieving the resolution <strong>0x0</strong> should be allowed in order to retrieve the original image.</p>
</div>
<div class="paragraph">
<p>When setting <strong>webCmsModule.images.imageServer.enabled</strong> to <code>true</code>, WebCmsModule will create its own <code>ImageServerClient</code> instance with the specified values.
If your application creates an <code>ImageServerClient</code> bean manually however, there is no need to specify the properties as WebCmsModule will automatically detect it and create the corresponding <code>WebCmsImageConnector</code>.</p>
</div>
<div class="paragraph">
<p>If your application is also the ImageServer (by running ImageServerCoreModule), there is no need to add the client dependency seperately or to specify any property credentials.
If you ensure the ImageServerCoreModule is configured to create a local client, it will be picked up automatically.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>When you delete a <code>WebCmsImage</code>, the corresponding image asset in your ImageServer will be deleted as well.
If you do not want this, you can manually create a <code>ImageServerWebCmsImageConnector</code> with different settings.</p>
</div>
</blockquote>
</div>
</div>
<div class="sect2">
<h3 id="_using_a_custom_connector"><a class="anchor" href="#_using_a_custom_connector"></a>Using a custom connector</h3>
<div class="paragraph">
<p>You can easily create a connector for a different type of image store.  Simply provide a bean called <strong>webCmsImageConnector</strong> that implements <code>WebCmsImageConnector</code>.  The bean will be automatically detected by WebCmsModule and will be integrated with the <code>WebCmsImage</code> infrastructure.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_rendering_images"><a class="anchor" href="#_rendering_images"></a>Rendering images</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Rendering images is done by generating an url to the image from the image repository.  This can be done directly through <code>WebCmsImageConnector</code> or by using the <code>WebCmsRenderUtilityService</code>.</p>
</div>
<div class="paragraph">
<p>The <a href="../../services-and-components/thymeleaf-dialect.html" class="page">Thymeleaf dialect</a> has the <code>#wcm</code> expression object to easily generate the url for a <code>WebCmsImage</code> in your Thymeleaf template.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_importing_images"><a class="anchor" href="#_importing_images"></a>Importing images</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can easily import images by providing a resource location to the actual image file.</p>
</div>
<div class="paragraph">
<p>Any property of <code>WebCmsImage</code> can either refer the <strong>objectId</strong> (starting with <em>wcm:asset:image</em>) or be a resource location representing the image file.
If the latter, an object id will be generated and if no <code>WebCmsImage</code> with that object id can be found, the resource file will be uploaded.</p>
</div>
<div class="paragraph">
<p>Only if the resource location changes between import runs would a new image be uploaded, otherwise it is perfectly safe to re-run the import.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>The ability to import images depends on the presence of the <code>WebCmsImageConnector</code> bean.
Because it is possible that a <code>WebCmsImageConnector</code> is only initialized late during the application bootstrap, data installers are best set to execute in the <code>AfterContextBootstrap</code> phase.</p>
</div>
</blockquote>
</div>
<div class="listingblock">
<div class="title">Example image import yaml</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">#
# Example of importing image web components.
# The actual WebCmsImage of the components is specified by setting the
# image property to a resource location of the image file.
#
assets:
  component:
    custom-component:
      title: Custom container with Image member
      componentType: custom-type-with-image-member
      wcm:components:
        image:
          image: "file:./src/main/test-data/test-image.jpg"
    sample-image:
      title: Sample image of a deer
      componentType: image
      image: "classpath:installers/test-data/deer.jpg"
    sample-image-from-url:
      title: Sample image fetched from URL
      componentType: image
      image: "http://images.freeimages.com/images/large-previews/afa/black-jaguar-1402097.jpg"</code></pre>
</div>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>All Spring resource locations are supported.  Take into account that URL resources using HTTPS will only work if the executing Java runtime has the required SSL certificates to connect to the remote host.</p>
</div>
</blockquote>
</div>
</div>
</div>
    <div class="article-footer-nav">
        <a class="article-footer-nav-previous" href="../publication/index.html">&laquo; Publications &amp; Articles</a>
            <span class="article-footer-nav-current">Images</span>
        <a class="article-footer-nav-next" href="../redirects/index.html">Redirects &raquo;</a>
    </div>
</article>
<aside class="article-aside hidden" role="navigation">
  <h3 class="toc-title">Contents</h3>
  <div id="article-toc"></div>
</aside>
  </main>
</div>
<footer class="footer">
  <p>The Across documentation site is generated using <a href="https://antora.org" target="_blank">Antora</a>.</p>
  <div class="footer-totop">
    <!--srcset="/acrossWebsite/img/foreach-logo@2x.png 2x"-->
    <a class="footer-partner" href="http://foreach.be/" target="_blank">
      sponsored by <svg width="20" height="20" viewBox="0 0 277 311" xmlns="http://www.w3.org/2000/svg">
        <g fill="none" fill-rule="evenodd">
          <path d="M27 307.3V133.5H.9V92.7H27v-8.8c0-24.1 4.3-46.5 19.7-64.1C58.2 6.6 74.7.1 92.9.1c13.4 0 23.7 2.2 31.2 4.8l-5.9 44.8c-3.9-1.8-9.5-2.6-15.8-2.6-17.4 0-23.7 16.7-23.7 35.5v10.1h33.6v40.8H78.7v173.8H27z" fill="#FFCE01" fill-rule="nonzero"></path>
          <path d="M229.2 181c0-27.6-6.3-49.1-21.7-49.1-17 0-23.7 27.7-24.1 49.1h45.8zM183 221.4c.8 33.4 18.2 45.6 41.1 45.6 14.6 0 27.6-3.5 36.7-7l7.1 41.2c-13.4 5.7-33.6 9.7-53.3 9.7-52.5 0-81.4-38.6-81.4-105.8 0-72 33.6-115 77.4-115 41.5 0 65.6 36.4 65.6 101.4 0 15.4-.4 23.7-1.6 29.8H183v.1z" fill="#FFF" fill-rule="nonzero"></path>
        </g>
      </svg>
    </a>
    <a href="#section-top">
      <svg width="34" height="34" viewBox="0 0 62 62" xmlns="http://www.w3.org/2000/svg">
        <title>icon</title>
        <g transform="rotate(-90 30.5 30.5)" fill="none" fill-rule="evenodd">
          <circle stroke="#ffffff" fill="#1D2A3A" transform="rotate(180 30.007 30.942)" cx="30.007" cy="30.942" r="30"></circle>
          <path fill="#ffffff" d="M25 38.884h3.713l6.3-7.797-6.3-8.087-3.713.064 6.155 7.972"></path>
        </g>
      </svg>
    </a>
  </div>
</footer>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.1.1/tocbot.min.js"></script>
<script src="../../../../_/js/site.js"></script>
<script src="../../../../_/js/vendor/highlight.js"></script>
<script>hljs.initHighlighting()</script>
<script>
  tocbot.init( {
                 tocSelector: '#article-toc',
                 contentSelector: 'article',
                 headingSelector: 'h2, h3, h4',
                 collapseDepth: 3,
                 positionFixedSelector: '#article-toc',
                 scrollSmooth: false
               } );
  var tocList = document.getElementById( 'article-toc' ).getElementsByClassName( 'toc-list' );
  if ( tocList && tocList.length > 0 && tocList[0].childNodes.length > 0 ) {
    document.getElementById( 'article-toc' ).parentNode.classList.remove( 'hidden' );
  }
</script>
  </body>
</html>
